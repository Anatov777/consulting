(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d4a19a94"],{"1f4f":function(e,t,a){"use strict";var n=a("5530"),i=(a("a9e3"),a("8b37"),a("80d2")),s=a("7560"),r=a("58df");t["a"]=Object(r["a"])(s["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(n["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(i["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(e){return e("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"70ef":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("v-card-title",[e._v(" Пациенты "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{headers:e.headers,items:e.GET_PATIENTS,search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{title:"Данные пациента"},on:{click:function(t){return e.toPatientInfo(n)}}},[e._v(" mdi-account ")]),a("v-icon",{staticClass:"mr-2",attrs:{title:"Редактировать"},on:{click:function(t){return e.toEditPatient(n)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{title:"Удалить"},on:{click:function(t){return e.deletePatient(n)}}},[e._v(" mdi-delete ")])]}}],null,!0)},[a("template",{slot:"no-data"},[e._v(" Нет пациентов ")])],2),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Удалить пациента?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Отмена")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deletePatientConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)],1)},i=[],s=a("1da1"),r=a("2909"),l=a("5530"),o=(a("159b"),a("96cf"),a("2f62")),c={name:"PatientsPage",data:function(){return{search:"",dialogDelete:!1,deletedPatientIndex:null,deletedConsultations:null,headers:[{text:"Фамилия",value:"surname"},{text:"Имя",value:"name"},{text:"Отчество",value:"patronymic"},{text:"Дата рождения",value:"birthday"},{text:"Пол",value:"gender"},{text:"СНИЛС",value:"snils"},{text:"Вес",value:"weight"},{text:"Рост",value:"height"},{text:"Возраст",value:"age"},{text:"Действия",value:"actions",sortable:!1}]}},computed:Object(l["a"])({},Object(o["c"])(["GET_PATIENTS","GET_CONSULTATIONS","GET_CONSULTATIONS_BY_PATIENT"])),methods:Object(l["a"])(Object(l["a"])({},Object(o["b"])(["DELETE_PATIENT","DELETE_CONSULTATION"])),{},{toEditPatient:function(e){this.$router.push({name:"PatientsEdit",params:{patientId:e.id}})},toPatientInfo:function(e){this.$router.push({name:"PatientInfo",params:{patientId:e.id}})},deletePatient:function(e){this.deletedPatientIndex=this.GET_PATIENTS.indexOf(e),this.deletedConsultations=Object(r["a"])(this.GET_CONSULTATIONS_BY_PATIENT(e.id)),this.dialogDelete=!0},closeDelete:function(){this.dialogDelete=!1},deletePatientConfirm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.DELETE_PATIENT(e.deletedPatientIndex);case 2:return t.next=4,e.deletePatientConsultations();case 4:e.dialogDelete=!1;case 5:case"end":return t.stop()}}),t)})))()},deletePatientConsultations:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.deletedConsultations.forEach((function(t){var a=e.GET_CONSULTATIONS.indexOf(t);e.DELETE_CONSULTATION(a)}));case 2:case"end":return t.stop()}}),t)})))()}})},d=c,u=a("2877"),h=a("6544"),v=a.n(h),f=a("8336"),p=a("b0af"),b=a("99d9"),m=a("8fea"),T=a("169a"),x=a("132d"),E=a("2fa4"),g=a("8654"),_=Object(u["a"])(d,n,i,!1,null,null,null);t["default"]=_.exports;v()(_,{VBtn:f["a"],VCard:p["a"],VCardActions:b["a"],VCardTitle:b["b"],VDataTable:m["a"],VDialog:T["a"],VIcon:x["a"],VSpacer:E["a"],VTextField:g["a"]})},"8b37":function(e,t,a){}}]);
//# sourceMappingURL=chunk-d4a19a94.d0db6e5e.js.map